{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/components/homepage/homepage.component.ts","./src/app/components/homepage/homepage.component.html","./src/app/components/product/product.component.ts","./src/app/components/product/product.component.html","./src/app/components/products/products.component.ts","./src/app/components/products/products.component.html","./src/app/services/collection.service.ts","./src/app/services/event.service.ts","./src/app/services/member.service.ts","./src/app/services/nft.service.ts","./src/app/services/transaction.service.ts","./src/app/services/user.service.ts","./src/app/utils/format.utils.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomepageComponent } from './components/homepage/homepage.component';\n\nconst routes: Routes = [{ path: '**', component: HomepageComponent }];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule {}\n","import { Component } from '@angular/core';\nimport { https } from '@build-5/client';\nimport { Build5 } from '@build-5/client/lib/https';\nimport { Collection } from '@build-5/interfaces';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { BehaviorSubject } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport { CollectionService } from './services/collection.service';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n})\nexport class AppComponent {\n  public collection$: BehaviorSubject<Collection | undefined> = new BehaviorSubject<Collection | undefined>(undefined);\n  constructor(private collectionService: CollectionService) {}\n\n  public ngOnInit(): void {\n    (<any>window).build5 = https(Build5.TEST);\n    this.collectionService.getOne(environment.collection).pipe(untilDestroyed(this)).subscribe(this.collection$);\n  }\n\n  public showAuction(): boolean {\n    return environment.mode === 'auction';\n  }\n}\n","<header>\n  <div class=\"py-6 px-6 text-center bg-gradient-to-tr from-red-300 to-yellow-200 flex justify-center items-center\">\n    <h1 class=\"mb-6 text-5xl font-medium\">\n      {{ (collection$ | async)?.name }}\n      <span\n        class=\"inline-block whitespace-nowrap rounded-full bg-neutral-50 px-[0.65em] pt-[0.35em] pb-[0.25em] text-center align-baseline text-[0.5em] font-bold leading-none text-neutral-600\"\n      >\n        <span *ngIf=\"!showAuction()\">On Sale</span>\n        <span *ngIf=\"showAuction()\">On Auction</span>\n      </span>\n    </h1>\n  </div>\n</header>\n<router-outlet></router-outlet>\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { HomepageComponent } from './components/homepage/homepage.component';\nimport { ProductComponent } from './components/product/product.component';\nimport { ProductsComponent } from './components/products/products.component';\nimport { UnitFormatPipe } from './utils/format.utils';\n\n@NgModule({\n  declarations: [AppComponent, HomepageComponent, ProductsComponent, ProductComponent, UnitFormatPipe],\n  imports: [BrowserModule, AppRoutingModule],\n  providers: [],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","import { Component } from '@angular/core';\nimport { EventLogService } from 'src/app/services/event.service';\n\n@Component({\n  selector: 'app-homepage',\n  templateUrl: './homepage.component.html',\n  styleUrls: ['./homepage.component.scss'],\n})\nexport class HomepageComponent {\n  constructor(public log: EventLogService) {}\n}\n","<app-products></app-products>\n\n<!-- Transaction Log -->\n<div id=\"chat-container\" class=\"fixed bottom-2 right-4\" style=\"width: 32rem\">\n  <div class=\"bg-white shadow-md rounded-lg max-w-lg w-full\">\n    <div class=\"p-4 border-b bg-blue-500 text-white rounded-t-lg flex justify-between items-center\">\n      <p class=\"text-lg font-semibold\">Application Log</p>\n    </div>\n    <div id=\"chatbox\" class=\"p-4 h-96 overflow-y-auto\">\n      <div class=\"mb-2 text-xs font-serif\" *ngFor=\"let p of log.events$ | async\">\n        <p class=\"bg-gray-200 text-gray-700 rounded-lg py-2 px-4 inline-block\">{{ p }}</p>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, Input } from '@angular/core';\nimport { FILE_SIZES, Nft, Transaction, TransactionType } from '@build-5/interfaces';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport dayjs from 'dayjs';\nimport { BehaviorSubject } from 'rxjs';\nimport { EventLogService } from 'src/app/services/event.service';\nimport { NftService } from 'src/app/services/nft.service';\nimport { TransactionService } from 'src/app/services/transaction.service';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-product',\n  templateUrl: './product.component.html',\n  styleUrls: ['./product.component.scss'],\n})\nexport class ProductComponent {\n  @Input() nft: Nft | undefined;\n  public getUrl(org: string, size?: FILE_SIZES): string {\n    const extensionPat = /\\.[^/.]+$/;\n    const ext = org.match(extensionPat)?.[0]?.replace('.', '_');\n    return org.replace(extensionPat, ext + '_' + size + '.webp');\n  }\n\n  constructor(private nftService: NftService, private log: EventLogService, private tranService: TransactionService) {\n    // none.\n  }\n\n  public medSizeImg(org?: string): string {\n    if (!org) return '';\n\n    return this.getUrl(org, FILE_SIZES.medium);\n  }\n\n  public monitorOrderProgress(id: string): void {\n    const listeningToTransaction: string[] = [];\n    const linkedTransactions$: BehaviorSubject<Transaction | undefined> = new BehaviorSubject<\n      Transaction | undefined\n    >(undefined);\n\n    linkedTransactions$.subscribe((val) => {\n      // Ignore delete or empty\n      if (!val) {\n        return;\n      }\n\n      if (val.type === TransactionType.PAYMENT) {\n        this.log.add('Received payment for ' + ((val.payload.amount || 0) / 1000 / 1000) + ' ' + val.network.toUpperCase());\n        if (val.payload.invalidPayment === false) {\n          this.log.add('Payment has been considered invalid. Refund initiated.');\n        }\n      } \n   \n      if (val.type === TransactionType.CREDIT) {\n        if (val.payload.reconciled === true) {\n          this.log.add('Credit issued and reconciled.');\n        }\n      }\n\n      if (val.type === TransactionType.BILL_PAYMENT) {\n        this.log.add('Bill Payment issued. Previous owner / Royalties paid.');\n      }\n\n    });\n    \n    // Let's monitor order to understand progress of the transaction.\n    this.tranService.getOneLive(id).pipe(untilDestroyed(this)).subscribe((val) => {\n      if (val && val.type === TransactionType.ORDER) {\n        const expiresOn: dayjs.Dayjs = dayjs(val.payload.expiresOn!.toDate());\n        if (expiresOn.isBefore(dayjs()) || val.payload?.void) {\n          this.log.add('Order has expired. Any funds will now be refunded.')\n        }\n        if (val.linkedTransactions && val.linkedTransactions?.length > 0) {\n          // Listen to other transactions.\n          for (const tranId of val.linkedTransactions) {\n            if (listeningToTransaction.indexOf(tranId) > -1) {\n              continue;\n            }\n\n            listeningToTransaction.push(tranId);\n            this.tranService.getOneLive(id).pipe(untilDestroyed(this)).subscribe(<any>linkedTransactions$);\n          }\n        }\n        if (val.payload.reconciled === true) {\n          this.log.add('NFT Sold to user ' + val.member);\n        }\n      }\n    });\n  }\n\n  public async signAndBuy(id: string): Promise<void> {\n    try {\n      const tran = await this.nftService.order(id);\n      this.log.add('Order created. Sent ' + ((tran.payload.amount || 0) / 1000 / 1000) + ' ' + tran.network.toUpperCase() +' to ' + tran.payload.targetAddress);\n      this.monitorOrderProgress(tran.uid);\n    } catch (e: any) {\n      this.log.add('ERRROR: ' + e.key)\n    }\n  }\n}\n","<div class=\"max-w-sm bg-white px-6 pt-6 pb-2 rounded-xl shadow-lg transform hover:scale-105 transition duration-500\">\n  <h3 class=\"mb-3 text-xl font-bold text-indigo-600\">{{ nft?.name }}</h3>\n  <div class=\"relative\">\n    <img class=\"w-full rounded-xl\" [src]=\"medSizeImg(nft?.media)\" alt=\"Colors\" />\n    <p class=\"absolute top-0 bg-yellow-300 text-gray-800 font-semibold py-1 px-3 rounded-br-lg rounded-tl-lg\">\n      {{ nft?.availablePrice | unitFormat: nft?.mintingData?.network }}\n    </p>\n  </div>\n  <h1 class=\"mt-4 text-gray-800 text-sm font-bold cursor-pointer\">{{ nft?.description }}</h1>\n  <div class=\"my-4\">\n    <div class=\"flex space-x-1 items-center\">\n      <span>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6 text-indigo-600 mb-1.5\" fill=\"none\" viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n            d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n        </svg>\n      </span>\n      <p>{{ nft?.totalTrades }} <span *ngIf=\"nft?.totalTrades === 1\">trade</span><span\n          *ngIf=\"(nft?.totalTrades || 0) > 1\">trades</span></p>\n    </div>\n    <button *ngIf=\"nft\" class=\"mt-4 text-xl w-full text-white bg-indigo-600 py-2 rounded-xl shadow-lg\"\n      (click)=\"signAndBuy(nft.uid)\">Buy Now</button>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Nft } from '@build-5/interfaces';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { BehaviorSubject } from 'rxjs';\nimport { EventLogService } from 'src/app/services/event.service';\nimport { environment } from 'src/environments/environment';\nimport { NftService } from '../../services/nft.service';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.scss'],\n})\nexport class ProductsComponent implements OnInit {\n  public products$: BehaviorSubject<Nft[] | undefined> = new BehaviorSubject<Nft[] | undefined>(undefined);\n  constructor(\n    private nftService: NftService,\n    private log: EventLogService,\n  ) {}\n\n  public ngOnInit(): void {\n    // TODO Add pagination and virtual scroll\n    this.log.add('Loading available NFTs for sale within collection: ' + environment.collection.slice(0, 9) + '...');\n    if (environment.mode === 'auction') {\n      this.nftService.getByCollectionAvailableForAuctionLive(environment.collection).pipe(untilDestroyed(this)).subscribe(this.products$);\n    } else {\n      this.nftService.getByCollectionAvailableForSaleLive(environment.collection).pipe(untilDestroyed(this)).subscribe(this.products$);\n    }\n  }\n}\n","<div class=\"min-h-screen bg-gradient-to-tr from-red-300 to-yellow-200 flex justify-center items-center py-20\">\n  <div class=\"md:px-4 md:grid md:grid-cols-2 lg:grid-cols-3 gap-5 space-y-4 md:space-y-0\">\n    <div class=\"flex items-center justify-center\" *ngIf=\"(products$ | async) === undefined\">\n      <div\n        class=\"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]\"\n        role=\"status\"\n      >\n        <span class=\"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]\">Loading...</span>\n      </div>\n    </div>\n    <app-product *ngFor=\"let p of products$ | async\" [nft]=\"p\"></app-product>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { https } from '@build-5/client';\nimport { Collection, Dataset } from '@build-5/interfaces';\nimport { Observable, from } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CollectionService {\n  private client = https(environment.build5Env).dataset(Dataset.COLLECTION);\n  getOne(id: string): Observable<Collection | undefined> {\n    return from(this.client.id(id).get());\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class EventLogService {\n  public events$: BehaviorSubject<string[]> = new BehaviorSubject<string[]>([]);\n  public add(s: string): void {\n    this.events$.next([...this.events$.value, s]);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { https } from '@build-5/client';\nimport { Dataset, Member } from '@build-5/interfaces';\nimport { Observable, from } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MemberService {\n  private client = https(environment.build5Env).dataset(Dataset.MEMBER);\n  getOne(id: string): Observable<Member | undefined> {\n    return from(this.client.id(id).get());\n  }\n\n  createIfNotExists(address: string): Promise<Member | undefined> {\n    return this.client.create({\n      address,\n      projectApiKey: environment.build5Token,\n      body: {\n        address,\n      },\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { https } from '@build-5/client';\nimport { Dataset, Nft, NftAvailable, Transaction } from '@build-5/interfaces';\nimport { Observable, from } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport { UserService } from './user.service';\n@Injectable({\n  providedIn: 'root',\n})\nexport class NftService {\n  private client = https(environment.build5Env).dataset(Dataset.NFT);\n  constructor(private user: UserService) {}\n  async order(nftId: string): Promise<Transaction> {\n    const d = await this.user.signWithMetamask({\n      collection: environment.collection,\n      nft: nftId,\n    });\n\n    return this.client.order(d);\n  }\n  getByCollection(col: string): Observable<Nft[] | undefined> {\n    return from(this.client.getByField('collection', col));\n  }\n\n  getByCollectionAvailableForSaleLive(col: string): Observable<Nft[] | undefined> {\n    return from(this.client.getByFieldLive(['collection', 'available'], [col, NftAvailable.SALE]));\n  }\n\n  getByCollectionAvailableForAuctionLive(col: string): Observable<Nft[] | undefined> {\n    return from(this.client.getByFieldLive(['collection', 'available'], [col, NftAvailable.AUCTION]));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { https } from '@build-5/client';\nimport { Dataset, Transaction } from '@build-5/interfaces';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class TransactionService {\n  private client = https(environment.build5Env).dataset(Dataset.TRANSACTION);\n  getOneLive(id: string): Observable<Transaction> {\n    return <Observable<Transaction>>this.client.id(id).getLive();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Member } from '@build-5/interfaces';\nimport detectEthereumProvider from '@metamask/detect-provider';\nimport { environment } from 'src/environments/environment';\nimport { EventLogService } from './event.service';\nimport { MemberService } from './member.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class UserService {\n  constructor(\n    private memberService: MemberService,\n    private log: EventLogService,\n  ) {\n    // none.\n  }\n\n  public async signWithMetamask(params: any = {}): Promise<any | undefined | false> {\n    this.log.add('Metamask signing initialized!');\n\n    const provider: any = await detectEthereumProvider();\n    if (provider) {\n      try {\n        try {\n          if (!(await provider._metamask.isUnlocked())) {\n            console.log(`You must unlock your MetaMask first!`, '');\n            return undefined;\n          }\n\n          // Make sure account is always selected.\n          await provider.request({\n            method: 'eth_requestAccounts',\n            params: [{ eth_accounts: {} }],\n          });\n        } catch (e) {\n          console.log(`You must enable access to read your account address.`, '');\n          return undefined;\n        }\n\n        if (!provider.selectedAddress) {\n          console.log(`Please make sure you select address in MetaMask!`, '');\n          return undefined;\n        }\n\n        const member: Member | undefined = await this.memberService.createIfNotExists(provider.selectedAddress);\n        if (!member) {\n          console.log(`Unable to get nonce to authenticate!`, '');\n          return undefined;\n        }\n\n        const signature: string = await provider.request({\n          method: 'personal_sign',\n          params: [`0x${this.toHex(member.nonce!)}`, provider.selectedAddress],\n        });\n\n        return {\n          address: provider.selectedAddress,\n          signature: signature,\n          projectApiKey: environment.build5Token,\n          body: params,\n        };\n      } catch (e) {\n        return undefined;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  public toHex(stringToConvert: string) {\n    return stringToConvert\n      .split('')\n      .map((c) => {\n        return c.charCodeAt(0).toString(16).padStart(2, '0');\n      })\n      .join('');\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Network } from '@build-5/interfaces';\n\nexport const NETWORK_DETAIL = {\n  [Network.IOTA]: {\n    label: 'MIOTA',\n    divideBy: 1000 * 1000,\n  },\n  [Network.ATOI]: {\n    label: 'MATOI',\n    divideBy: 1000 * 1000,\n  },\n  [Network.SMR]: {\n    label: 'SMR',\n    divideBy: 1000 * 1000,\n  },\n  [Network.RMS]: {\n    label: 'RMS',\n    divideBy: 1000 * 1000,\n  },\n};\n\n@Pipe({ name: 'unitFormat' })\nexport class UnitFormatPipe implements PipeTransform {\n  transform(value: number | null | undefined, network?: Network | null, removeZeroes = false, showUnit = true, defDecimals = 2): string {\n    if (!network) {\n      network = Network.IOTA;\n    }\n\n    if (!value) {\n      value = 0;\n    }\n\n    value = value / NETWORK_DETAIL[network].divideBy;\n\n    const parts = (removeZeroes ? value : value.toFixed(defDecimals)).toString().split('.');\n    const formattedValue = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',') + (parts.length === 2 ? '.' + parts[1] : '');\n    return formattedValue + (showUnit ? ` ${NETWORK_DETAIL[network].label}` : '');\n  }\n}\n","import { Build5 } from '@build-5/client';\n\nexport const environment = {\n  production: false,\n  mode: 'sale', // sale | auction\n  collection: '0x267b6d288fc7568e099a929b649e8d5b55c2b39d',\n  build5Token:\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiIweDU1MWZkMmM3YzdiZjM1NmJhYzE5NDU4N2RhYjJmY2Q0NjQyMDA1NGIiLCJwcm9qZWN0IjoiMHg0NjIyM2VkZDQxNTc2MzVkZmM2Mzk5MTU1NjA5ZjMwMWRlY2JmZDg4IiwiaWF0IjoxNjk1ODUyNTk2fQ.WT9L4H9eDdFfJZMrfxTKhEq4PojNWSGNv_CbmlG9sJg',\n  build5Env: Build5.TEST,\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.error(err));\n"],"names":["RouterModule","HomepageComponent","routes","path","component","AppRoutingModule","_","_2","_3","forRoot","imports","i1","exports","https","Build5","UntilDestroy","untilDestroyed","BehaviorSubject","environment","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","AppComponent","constructor","collectionService","collection$","undefined","ngOnInit","window","build5","TEST","getOne","collection","pipe","subscribe","showAuction","mode","ɵɵdirectiveInject","CollectionService","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵtemplate","AppComponent_span_6_Template","AppComponent_span_7_Template","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate1","tmp_0_0","ɵɵpipeBind1","name","ɵɵproperty","__decorate","BrowserModule","ProductComponent","ProductsComponent","UnitFormatPipe","AppModule","bootstrap","declarations","ɵɵtextInterpolate","p_r1","log","EventLogService","HomepageComponent_Template","HomepageComponent_div_7_Template","events$","FILE_SIZES","TransactionType","dayjs","ɵɵlistener","ProductComponent_button_19_Template_button_click_0_listener","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","signAndBuy","nft","uid","getUrl","org","size","extensionPat","ext","match","replace","nftService","tranService","medSizeImg","medium","monitorOrderProgress","id","listeningToTransaction","linkedTransactions$","val","type","PAYMENT","add","payload","amount","network","toUpperCase","invalidPayment","CREDIT","reconciled","BILL_PAYMENT","getOneLive","ORDER","expiresOn","toDate","isBefore","void","linkedTransactions","length","tranId","indexOf","push","member","_this","_asyncToGenerator","tran","order","targetAddress","e","key","NftService","i2","i3","TransactionService","inputs","ProductComponent_Template","ɵɵnamespaceSVG","ɵɵnamespaceHTML","ProductComponent_span_17_Template","ProductComponent_span_18_Template","ProductComponent_button_19_Template","media","ɵɵsanitizeUrl","ɵɵpipeBind2","availablePrice","mintingData","description","totalTrades","p_r2","products$","slice","getByCollectionAvailableForAuctionLive","getByCollectionAvailableForSaleLive","ProductsComponent_Template","ProductsComponent_div_2_Template","ProductsComponent_app_product_4_Template","Dataset","from","client","build5Env","dataset","COLLECTION","get","factory","ɵfac","providedIn","s","next","value","MemberService","MEMBER","createIfNotExists","address","create","projectApiKey","build5Token","body","NftAvailable","user","NFT","nftId","d","signWithMetamask","getByCollection","col","getByField","getByFieldLive","SALE","AUCTION","ɵɵinject","UserService","TRANSACTION","getLive","detectEthereumProvider","memberService","params","provider","_metamask","isUnlocked","console","request","method","eth_accounts","selectedAddress","signature","toHex","nonce","stringToConvert","split","map","c","charCodeAt","toString","padStart","join","Network","NETWORK_DETAIL","IOTA","label","divideBy","ATOI","SMR","RMS","transform","removeZeroes","showUnit","defDecimals","parts","toFixed","formattedValue","pure","production","enableProdMode","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch","err","error"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}